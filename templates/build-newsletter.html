<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build Newsletter - HRF Newsletter Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/build-newsletter.css') }}">

</head>
<body>
    <div class="container">
        <a href="/" class="back-link">‚Üê Back to Country Selection</a>
        <h1>Build Newsletter</h1>
        <!-- Country and Languages Info -->
        <div class="info-section">
            <div class="info-row">
                <span class="info-label">Country:</span>
                <span class="info-value" id="selectedCountry">-</span>
            </div>
            <div class="info-row">
                <span class="info-label">Languages spoken:</span>
                <div class="info-value" id="selectedLanguages">-</div>
            </div>
        </div>
        <form id="newsletterBuildForm">
            <!-- Hero Section -->
            <div class="container-section">
                <h2>Hero</h2>
                <div class="form-group">
                    <label for="heroImage">Image (JPG or PNG):</label>
                    <div class="file-input-group">
                        <input type="text" id="heroImage" placeholder="Enter image URL or select file">
                        <button type="button" class="file-btn" onclick="triggerFileInput('heroImageFile')">Select File</button>
                        <input type="file" id="heroImageFile" class="hidden-file-input" accept=".jpg,.jpeg,.png">
                    </div>
                    <div class="error-message" id="heroImageError"></div>
                </div>
                <div class="form-group">
                    <label for="heroImageAlt">Image alt:</label>
                    <input type="text" id="heroImageAlt" placeholder="e.g., 'Protesters holding signs for human rights'">
                </div>
                <div class="form-group">
                    <label for="heroHeadline">Headline:</label>
                    <input type="text" id="heroHeadline" placeholder="e.g., 'Breaking: Major Human Rights Victory in Supreme Court'">
                </div>
                <div class="form-group">
                    <label for="heroDescription">Description:</label>
                    <input type="text" id="heroDescription" placeholder="e.g., 'A landmark decision that will impact millions of people worldwide...'">
                </div>
                <div class="form-group">
                    <label for="learnMoreUrl">Learn more link URL (optional):</label>
                    <input type="text" id="learnMoreUrl" placeholder="https://example.com/article">
                    <div class="error-message" id="learnMoreUrlError"></div>
                </div>
                <div class="form-group">
                    <label for="ctaCount">Call To Action URLs:</label>
                    <select id="ctaCount">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                    </select>
                </div>
                <div id="ctaSections"></div>
            </div>
            <!-- Stories Section -->
            <div class="form-group">
                <label for="storyCount">How many stories? (0, 1 or 2):</label>
                <select id="storyCount">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                </select>
            </div>
            <div id="storySections"></div>
            <button type="submit" class="btn" id="generateBtn">Generate Newsletter(s)</button>
            <div class="loading" id="loadingDiv">
                <div class="spinner"></div>
                <span>Generating newsletter(s)...</span>
            </div>
        </form>
    </div>
    <!-- Pass server data to JavaScript -->
    <script>
        window.selectedCountry = "{{ selected_country }}";
    </script>
    <!-- External JavaScript for build-newsletter functionality -->
    <script src="{{ url_for('static', filename='scripts/build-newsletter.js') }}"></script>
</body>
</html>
